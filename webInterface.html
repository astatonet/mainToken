<!DOCTYPE html>
<!--[if lt IE 8 ]><html class="no-js ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="no-js ie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js ie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 8)|!(IE)]><!-->

<html class="no-js" lang="en"> <!--<![endif]-->
<head>

<meta charset="utf-8">
<title>ASTATO Serverless DEX</title>
<meta name="description" content="Fully decentralized ecosystem">
<meta name="author" content="ASTATO TEAM">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="shortcut icon" href="data:image/png;base64,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">
<style>

body {
  font-family: verdana,arial;
  font-size: 16px;
  background-color: #152515;
}

@media screen and (max-width: 600px) {
  body {
    background-color: black;
  }
}

.header {
  min-width: 1280px;
  margin-top: 0px;
  padding-top: 0;
  background-color: black;
  height: 55px;
  border-bottom: 2px solid #004000; 
}

.header h1 {
  top: 40px;
  width: 100%;
  min-width: 1080px;
  text-align: right;
  font-size: 12px;
  color: white;
  position: absolute;
  right: 12px;
  display: block; 
} 

.header .logo a {
   width: 180px;
   margin-top: 2px;
} 

.logo {
  display: inline;
  padding-top: 20px;
  position: relative;
  top: 11px;
}

#hero .row {
  padding: 7px;
  background: #151515;
  box-shadow: 0 3px 4px green;
}

#hero {
  width: 100%;
  min-width: 1080px;
}

.copyright {
  text-align: center;
  color: #999999;
}

.copyright a {
   color: lime;
}

#statust1 a{
  color:#aaaaff;
  font-size: 20px;
}


button {
  background-color: silver;
  border: none;
  border-radius: 5px;
  padding: 10px;
  color: white;
  font-size: 18px;
  font-weight: bold;
  margin: 5px;
}

a {
  text-decoration: none;
  font-size: 18px; 
}

#typeSell td, #typeBuy td{
    padding-left: 5px; padding-right: 5px;
    text-align: right;
    width: 180px;
    color: black; 
    font-weight: bold;
    font-size: 12px;        
}

.fillCol {width:  50px !important;}
.rateCol {width: 130px !important;}

#typeSell tr {
    background-color: #AAAAFF;    
}

#typeSell tr:hover, #typeBuy tr:hover  {
    background-color: #CFCFCF;
    box-shadow: 1px 1px 1px black;   
}

#typeBuy tr {
    background-color: #AAFFAA;
}

.tbheader td {
  width: 180px;
  text-align: right;
  color: white; 
}

.tbheader, #typeBuy, #typeSell {
  width: 1200px;
  left: -100px;
  position: relative;
}
  
.approvalTable {
   position: relative;
   border-bottom: 2px solid #004000;
   border-top: 2px solid #004000;
   width: 100%;   
}


#btnBuy, #btnSell {
  margin-left: 5px;
  position: relative;
}

.approvalTable td {
   padding-left: 12px;
   padding-right: 12px; 
   padding-bottom: 20px;
   width: 30%;
   padding-top: 20px;
}

.offer {
  text-align: right;
}

.approvalTable button {
  margin-top: 7px;
}

#headerOptionsContainer, #features {
  background-color: black;  
}

#typeSell thead td, #typeBuy thead td {
  padding: 5px;
  text-align: center;
  color: white;
}

.designEx {
  width: 100%;
  margin-top: 20px;
  line-height: 24px;
}

.likesC img {
  width: 49px;
  height:48px;
  margin-bottom: 0;
  cursor: pointer;
  border-radius: 5px;
}

.likesC {
  position: absolute !important;
  top: 66px;
  text-align: center;
}

.voteCount {
  position: relative;
  top: -12px;
  font-weight: bold;
}

#likeBaseVotesC {right:300px;}
#diskikeBaseVotesC {right:250px;}
#likePairVotesC {right:150px;}
#dislikePairVotesC {right:100px;}
#pairSymbolSell, #pairSymbolBuy {font-weight: bold;}

.apBtn {
  margin-bottom: 5px;
  overflow: hidden;
}

.placedLabel {
  color: #00FF00;
  font-weight: bold;
  margin-right: 20px;
  min-width: 100px;
  position: relative;
}

.cancelBtn, .fillBtn {
  position: relative;
  background: #102010;  
  right: 2px;
  letter-spacing: 1px;
  top: -2px;
  height: 18px;
  font-size: 10px;
  font: 10px 'montserrat-bold', sans-serif;
  margin: 3px;
  margin-top: 1px;
  padding-left: 4px;
  padding-right: 4px;
  padding-top: 2px;
  padding-bottom: 2px;
  box-shadow: 2px 2px 2px black;
}

.cancelBtn {
  width: 70px;
}

.fillBtn {
  width: 46px; 
}

#orderFillForm {
  margin-top: 25px;
  width: 350px;
  color: white;
  text-align: right;
  border-radius: 5px;
  border: 1px solid #00ff00;
  box-shadow: 2px 2px 12px #00FF00;
  padding: 10px;
  position: fixed;
  top: 60px;
  background-color: #202020;
  display: none;
}

#orderFillForm input {
  display: inline;
  height: 20px;
}

#orderFillForm h2 {
  color: white;
} 

#sellHeaderDones td, #typeSellDones td, #buyHeaderDones td, #typeBuyDones td {
  width: 33%;
}

#capittb {
  display: none;
} 



#features {
  max-width: 90%;
  min-width: 1000px;  
  margin: auto;
  margin-bottom: 10px;
  margin-top: 30px;
  padding-top: 12px;
  padding-bottom: 60px;
}

select {
  margin-bottom: 10px;
}

.coin input, .coin button, .coin select, .coin span {
  width: 80%;
  min-width: 180px;
}

.coin {
  text-align: center;
  font-size: 16px;
  color: #CCCCCC;
  font-weight: bold;
  min-width: 280px;
}

.hlink {
  margin-right: 20px;
  font-weight: bold;
  color: #00FF00;
  text-shadow: 1px 1px 1px #00AA00;   
  position: relative;  
}

a:visited{
  color: #00FF00;
}

.wrapBtn {
  padding: 5px;
  margin-left: 10px;
  margin-right: 10px;
  letter-spacing: 0;
  width: 100px;
}

#wrapContainer {
  position: relative;
  top: -5px;
  display: none;
}

.wrapInput {
  font-weight: bold;
  font-size: 14px;
  padding: 4px;
}

.wrapLabel {
  color: white;
  font-weight: bold;
  text-shadow: 1px 1px 1px #00FF00;
  width: 200px;
}

.garbageRow .fillBtn {
   display: none;
}

.garbageRow td {
  color: #606060 !important;
}

#statust1 {
  top: 14px; 
  margin-left: 12px;
  position: relative;
  color: #cccccc;
  font-size: 18px;
}

#tkaddress, #tkpairaddress {
  position: relative;
}

.inputInfo {
  font-size: 22px;
  background-color: #001500;
  border: 1px solid white;
  font-weight: bold;
  color: yellow;
  padding: 8px;
  text-align: center;
  border-radius: 5px;
  margin-top: 5px;
  margin-bottom: 5px;
}

.inputEdit {
  font-size: 22px;
  background-color: #001515;
  border: 1px solid white;
  font-weight: bold;
  color: white;
  padding: 8px;
  text-align: center;
  border-radius: 5px;
  margin-top: 5px;
  margin-bottom: 5px;
}

.logo span {
  color: white;
  font-size: 26px;
  font-weight: bold;
  text-shadow: 1px 1px lime;
  white-space: nowrap;
  margin-top: 5px; 
}

</style>

</head>
<body onload="web3Detect();">
<script>

     var addr = "SELECT";
     var ropsten = false;
     var currentNetwork;
     var ropstenDomain = "";
     var baseDecimals=18;
     var pairDecimals=18;
     var baseSymbol="";
     var pairSymbol="";
     var addr;
     var asyncElmDetected = 0;
     var asyncElmLoaded = 0;
     var rowId = 0;
     var actionFee;
     var marketFee;
     var registerFee;
     var account;
     var accountInterval;
     var exchangeContract;
     var wrapContract;
     var exchangeAddr = "0x51c58a6Da7c0Ac9c61bffD3376e2E2e8165a463e"; //Mainnet default
	 var wrapAddr;
     var startBaseDefault;
     var startPairDefault;
     var decimalPlaces = 2; 
     var bE = 36; //36 //33
     var ordersCountNewA = 0;
     var ordersCountOldA = 0;
     var donesCountNewA = 0;
     var donesCountOldA = 0;
     var ordersCountNewB = 0;
     var ordersCountOldB = 0;
     var donesCountNewB = 0;
     var donesCountOldB = 0;
     var loading = false;
     var baseName = '';
     var pairName = '';
     var account0 = '';
     var txAddresss = '';

     startBaseDefault = "0x91D88227cd0A11199cabD163c95eAA54EF8C02A5";
     startPairDefault = "0x0000000000085d4780B73119b644AE5ecd22b376";     
	 
     let standardERC20ABI = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}] 

     let exchangeABI = 	[{"constant":false,"inputs":[{"name":"_tusd","type":"bool"}],"name":"exchangeIt","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"value","type":"uint256"}],"name":"sendCapital","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"capitalAcum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"comment","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCapital","outputs":[{"name":"capital","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getPrize","outputs":[{"name":"vPrize","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"prize","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"}];

     let wrapABI = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"src","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"wad","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"guy","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"dst","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"src","type":"address"},{"indexed":false,"name":"wad","type":"uint256"}],"name":"Withdrawal","type":"event"}];

    const urlParams = new URLSearchParams(window.location.search);

function startEx() {
          web3.version.getNetwork((err, netId) => {
             if (netId == 1) {
                ropsten = false;
                opstenDomain = "";
                printStatus(false, 'MainNet Selected!');
                exchangeAddr = "0x5c4287433fa7fC21AB3a442e4782Ae492204D8f8";
	            wrapAddr = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2";
                startBaseDefault = "0x91D88227cd0A11199cabD163c95eAA54EF8C02A5";
                startPairDefault = "0x0000000000085d4780B73119b644AE5ecd22b376";
                txAddress = '0x5D11B9e7b0ec9C9e70b63b266346Bc9136eEd523';
                exchangeContract = web3.eth.contract(exchangeABI).at(exchangeAddr);
                wrapContract = web3.eth.contract(wrapABI).at(wrapAddr); 
                setCookie("baseDefaultAddr", startBaseDefault, 10);
                setCookie("pairDefaultAddr", startPairDefault, 10);
             } else if (netId == 3) {
                ropsten = true;
                ropstenDomain = "ropsten.";
                printStatus(false, 'Ropsten Network Selected!');
                exchangeAddr = "0xdB7a2F9B424eC13EFb86f62390B6Bf387D4A1EB5";
	            wrapAddr = "0xb603cEa165119701B58D56d10D2060fBFB3efad8";
                startBaseDefault = "0x5e340d148cAc4DDC8D985c7CF148314032DAC9F8";
                startPairDefault = "0xd73a31d61308Db20cD5F51230086C94151821e8c";
                txAddress = '0xf8b179CFe1bfDe3448D26C819dC756636C12fE5f';
                exchangeContract = web3.eth.contract(exchangeABI).at(exchangeAddr);
                wrapContract = web3.eth.contract(wrapABI).at(wrapAddr); 
                setCookie("baseDefaultAddr", startBaseDefault, 10);
                setCookie("pairDefaultAddr", startPairDefault, 10);
             } else {
                printStatus(false, 'Network not suported, select MainNet or Ropsten Network!');
                ropsten = true;
                ropstenDomain = "notsuported.";
                exchangeAddr = "0xd85c6c8FAD288AB905747149799223Fe554686dD";
	            wrapAddr = "0xb603cEa165119701B58D56d10D2060fBFB3efad8";
                startBaseDefault = "0x7Da44D4E0856b337f38e50b342237DC86D9032E3";
                startPairDefault = "0x3d74C695B17505606480dae9EF3DCd6756C728DA";
                txAddress = '0xf8b179CFe1bfDe3448D26C819dC756636C12fE5f';
                exchangeContract = web3.eth.contract(exchangeABI).at(exchangeAddr);
                wrapContract = web3.eth.contract(wrapABI).at(wrapAddr); 
                setCookie("baseDefaultAddr", startBaseDefault, 10);
                setCookie("pairDefaultAddr", startPairDefault, 10);
             }
             account = web3.eth.accounts[0];             
             if (account.toUpperCase()  == txAddress.toUpperCase()) {
                document.getElementById('capittb').style.display = 'block';                
             } else {
                document.getElementById('capittb').style.display = 'none';
             }            
             document.getElementById('accountExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+web3.eth.accounts[0];
             document.getElementById('accountExplorerLink').style.color  = '#00FF00';
             document.getElementById('accountExplorerLink').style.pointerEvents  = 'auto';            
             getMyBalance(startBaseDefault,account, 'myBaseBalance'); 
             getMyBalance(startPairDefault,account, 'myPairBalance');
             getMyBalance(startBaseDefault,exchangeAddr, 'contractBaseValue');
             getMyBalance(startPairDefault,exchangeAddr, 'contractPairValue');
             getMyBalance(startBaseDefault,txAddress, 'forExchangesValue');             
             getAllowanceAccount(startBaseDefault, account, 'allowedBaseValue'); 
             getAllowanceAccount(startPairDefault, account, 'allowedPairValue');
             getExtras('extraExchange');
             getPrize('rPrize');
             document.getElementById('baseExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+startBaseDefault;
             document.getElementById('pairExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+startPairDefault;
             getCirculantSupply(startBaseDefault,exchangeAddr,txAddress,'circulantSupply');
             accountInterval = setInterval(function() {
                if (web3.eth.accounts[0] !== account) {
                    account = web3.eth.accounts[0];
                    location.reload();
                }
             }, 100);	
             currentNetwork = netId;
             networkInterval = setInterval(function() {                
                   web3.version.getNetwork((err, netId) => {
                      if (netId != currentNetwork) {
                         currentNetwork = netId;
                         location.reload();
                      }
                   });
                   if ((asyncElmDetected > 0) && (asyncElmLoaded >= asyncElmDetected)) {
                      asyncElmDetected = 0;
                      asyncElmLoaded = 0;  
                      loading = false; 
                      sortOrders('typeSell',false);
                      sortOrders('typeBuy',false);                      
                   }				    
             }, 500);
             watchInterval = setInterval(function() {
                if (!loading) {
                    orderWatch();
                }
             }, 6000);	
             document.getElementById("myBaseBalance").value = 0.00;
             document.getElementById("myPairBalance").value = 0.00;
             getMyBalanceLabel(wrapAddr,web3.eth.accounts[0],'wrapBalance');  
             getEthBalanceLabel(web3.eth.accounts[0],'ethBalance'); 
             document.getElementById('contractExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+exchangeAddr;
             var elements = document.getElementsByTagName('button');
             n = elements.length;
             for (var i = 0; i < n; i++) {
                var e = elements[i];
                e.style.backgroundColor = '#202099';  
                e.style.cursor = 'pointer';                
             }
          });	
          		
     }	

async function web3Detect() {

if (window.ethereum) {
        window.web3 = new Web3(ethereum);
        try {
          await ethereum.enable();
          //await eth_requestAccounts();
          startEx();	  
        } catch (err) {
          document.getElementById('statust1').innerText = 'User denied account access';
        }
      } else if (window.web3) {
        window.web3 = new Web3(web3.currentProvider);
        startEx(); 
      } else {
          document.getElementById('statust1').innerText = 'No Metamask (or other Web3 Provider) installed';
      }
}

    function getCirculantSupply(tokenAddress, contractAddress, walletAddress, element) {
      var bal = 6000000;     
      getERC20TokenBalance(tokenAddress, contractAddress, (balance) => {
         bal = bal - parseFloat(balance);
         getERC20TokenBalance(tokenAddress, walletAddress, (balance) => {
             bal = bal - parseFloat(balance);
             document.getElementById(element).value = bal.toFixed(decimalPlaces); 
         })       
      })              
    }


    function getExtras(element) {
      let contract = web3.eth.contract(exchangeABI).at(exchangeAddr);     
      contract.getCapital((error, capital) => {
         document.getElementById(element).value = (parseFloat(capital)/(10**18)).toFixed(decimalPlaces);     
      } )             
    }

    function getPrize(element) {
      let contract = web3.eth.contract(exchangeABI).at(exchangeAddr);     
      contract.getPrize((error, vPrize) => {
         vPrize1 = (vPrize/(10**18)).toFixed(6);
         document.getElementById(element).innerHTML =
         'Prize: '+vPrize1+' TUSD/ASTATO<br>'+ 
         'Send 1 ASTATO Get 1 TUSD<br>'+
         'Get 1 ASTATO by 1 TUSD';     
      } )             
    }

    function getMyBalance(tokenAddress, walletAddress, element) {     
      getERC20TokenBalance(tokenAddress, walletAddress, (balance) => {
         document.getElementById(element).value = parseFloat(balance).toFixed(decimalPlaces);     
      })              
    }

    function getMyBalanceLabel(tokenAddress, walletAddress, element) {     
      getERC20TokenBalance(tokenAddress, walletAddress, (balance) => {
         document.getElementById(element).innerText = parseFloat(balance).toFixed(decimalPlaces);     
      })              
    }

    function getERC20TokenBalance(tokenAddress, walletAddress, callback) {       
      let contract = web3.eth.contract(standardERC20ABI).at(tokenAddress);
      contract.balanceOf(walletAddress, (error, balance) => {
        contract.decimals((error, decimals) => {
          balance = balance.div(10**decimals).toFixed(decimalPlaces);          
          callback(balance,decimals);
        });        
      });    
    }

 

</script>
<div class="header">
<h1>Powered by ASTATO Network</h1>
<div class="logo">
<a class="smoothscroll" href="#hero"><span>ASTATO Swap</span></a>
</div>
<span id="statust1">Status: Idle</span>
</div> 

<section id="hero">
<div class="row" style="text-align: center;">
<div id="wrapContainer">
<span class="wrapLabel">WRAP &larr;&rarr; UNWRAP: <span id=ethBalance>0.000000000</span> ETH &larr;&rarr; <span id="wrapBalance">0.000000000</span> WETH<br><input id="amountToWrap" type="number" class="wrapInput" step="any" value="0.00">&rarr;</span><button class="wrapBtn" onclick="wrapEth()">WRAP</button><button class="wrapBtn"  onclick="unwrapEth()">UNWRAP</button><span class="wrapLabel">&larr;<input id="amountToUnwrap" type="number" class="wrapInput" step="any" value="0.00"></span>
</div>
<a href="" class="hlink" id="contractExplorerLink" target="_blank">CONTRACT</a>
<a href="" class="hlink" id="accountExplorerLink" target="_blank">ACCOUNT EXPLORER</a>
<a href="" class="hlink" id="baseExplorerLink" target="_blank">ASTATO EXPLORER</a>
<a href="" class="hlink" id="pairExplorerLink" target="_blank">TUSD EXPLORER</a>
</div>
</section> 

<section id='features'>
<div id="headerOptionsContainer">

<table class="approvalTable"><tr><td class="coin">ASTATO Balance:<br><input type="number" step="any" id="myBaseBalance" class="inputInfo" value="0.00" readonly /><br>Allowance value: ASTATO<br>
<input type="number" step="any" id="approveBaseValue" value="0.00" class="inputEdit" /><br>
<button class="apBtn" id="btnApproveBase" onclick="approveExchange(startBaseDefault,'approveBaseValue',baseDecimals);">ASTATO<br>SET SPEND LIMIT</button>
</td>
<td class="coin" style="vertical-align: middle;"><button class="apBtn" onclick="web3Detect();">CONNECT ACCOUNT<br>WITH<br>METAMASK+WEB3</button><br><button onclick="web3Detect();">REFRESH</button><br>EXTRAS (IN TUSD)<br><input type="number" step="any" id="extraExchange" class="inputInfo" value="0.00" readonly /></td>
<td class="coin">TUSD Balance:<br><input type="number" step="any" id="myPairBalance" class="inputInfo" readonly value="0.00" /><br>Allowance value: TrueUSD<br>
<input type="number" step="any" id="approvePairValue" value="0.00" class="inputEdit"/><br>
<button class="apBtn" id="btnApprovePair" onclick="approveExchange(startPairDefault,'approvePairValue',pairDecimals);">TUSD<br>SET SPEND LIMIT</button>
</td></tr>
</table>

<table class="approvalTable" style="margin-top: 20px;"><tr>
<td class="coin">SEND ASTATO<br>
<input type="number" step="any" id="allowedBaseValue" value="0.00" class="inputInfo" readonly /><br>
<button class="apBtn" id="btnExecuteBase" onclick="exchangeIt(true,exchangeAddr);">SWAP (Fee: 1%)<br>SEND ASTATO GET TUSD</button>
</td>
<td class="coin"><span>ASTATO CIRCULANT SUPPLY<br>
<input type="number" step="any" id="circulantSupply" value="0.00" class="inputInfo" readonly /></span><br><br><b><span title='Actual Prize' style="font-size: 18px;" id="rPrize">ASTATO by TUSD</span></b></td>
<td class="coin">SEND TrueUSD<br>
<input type="number" step="any" id="allowedPairValue" value="0.00" class="inputInfo" readonly /><br>
<button class="apBtn" id="btnExecutePair" onclick="exchangeIt(false,exchangeAddr);">SWAP (Fee 1%)<br>SEND TUSD GET ASTATO</button>
</td>
</tr>
</table>

<table class="approvalTable" style="margin-top: 20px;"><tr><td class="coin">ASTATO LOCKED IN POOL (Max 6M)<br>
<input type="number" step="any" id="contractBaseValue" value="0.00" class="inputInfo" readonly /><br>
</td>
<td class="coin"><span>EXCHANGES PROVISION LOCK<br>
<input type="number" step="any" id="forExchangesValue" value="0.00" class="inputInfo" readonly /></span></td>
<td class="coin">LIQUIDITY IN TrueUSD<br>
<input type="number" step="any" id="contractPairValue" value="0.00" class="inputInfo" readonly /><br>
</td>
</tr>
</table>
</div>

<div class="approvalTable" id="capittb" style="margin-top: 20px; text-align: center; padding-top: 10px; padding-bottom: 10px;"><button class="apBtn" onclick="sendCapital('allowedPairValue',pairDecimals);">SEND ALLOWED TUSD<br>AS CAPITALIZATION<br>Attention: This option does not return ASTATO</button>
</div>

</section>

<footer>
<div class="row">
<p class="copyright"><a href="https://github.com/astatonet/mainToken/blob/main/webInterface.html">Download this interface to your localhost or IPFS node</a><br>Require Metamask and MetaMask Legacy Web3 Extensions<br>&copy; 2021 ASTATO Network | <a href="https://github.com/astatonet/mainToken" target="_blank">GITHUB Repository</a> | ASTATO Team</p>
</div> 
</footer> 

<script>    	

      document.getElementById('contractExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+exchangeAddr;
      document.getElementById('accountExplorerLink').style.pointerEvents  = 'none';
      document.getElementById('accountExplorerLink').style.color  = '#AAAAAA';  
      document.getElementById('baseExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+startBaseDefault;
      document.getElementById('pairExplorerLink').href = 'https://'+ropstenDomain+'etherscan.io/address/'+startPairDefault;
	
    function link(domain) {
        var loc = window.location.pathname;
        var scriptfolder = loc.substring(0, loc.lastIndexOf('/'));
        document.write("<a href='https://"+domain+scriptfolder+"' target='_blank'>"+domain+"</a>");      
    }

    function setCookie(cookie_name, cookie_value, expire_in_days) {
             var cookie_expire = "";
             if (expire_in_days != null) {
	                  var expire = new Date();
	                  expire.setTime(expire.getTime() + 1000*60*60*24*parseInt(expire_in_days));
	                  cookie_expire = "; expires=" + expire.toGMTString();
             }
             document.cookie = escape(cookie_name) + "=" + escape(cookie_value) + cookie_expire;               
    }

    function getCookie(cookie_name) {
            if (!document.cookie.match(eval("/" + escape(cookie_name) + "=/"))) { 
                return false;
            }
            return unescape(document.cookie.replace(eval("/^.*?" + escape(cookie_name) + "=([^\\s;]*).*$/"), "$1"));
    }

    baseDefault = startBaseDefault; 
    pairDefault = startPairDefault;

	function orderWatch() {

	}
	
    
	
	function wrapEth() {
	  amount = document.getElementById('amountToWrap').value*(10**18);
	  wrapContract.deposit({
          to: wrapAddr,
          value: amount,
          gas: 150000,
        },(err,transactionId) => {
	     printStatus(err, transactionId);
	  });
	}
	
	function unwrapEth() {
	  amount = document.getElementById('amountToUnwrap').value*(10**18);
	  wrapContract.withdraw(amount, (err,transactionId) => {
	     printStatus(err, transactionId);
	  });	 
	}

    function printStatus(err, transactionId) {            
            if (err) {
             document.getElementById('statust1').innerText = 'Transaction failed';
            } else {
             document.getElementById('statust1').innerHTML = 'Transaction sent: <a href="https://'+ropstenDomain+'etherscan.io/tx/'+transactionId+'" target="_blank">'+transactionId+'</a>';
            } 
    }

    function sendOrder(_sell) {
      if (_sell == 1) {
         _rate = document.getElementById('priceSellValue').value*(10**9);
         _amount = document.getElementById('amountSellValue').value*(10**baseDecimals);
         exchangeContract.createOrder(startBaseDefault, startPairDefault, _rate, _amount, true, {value:actionFee,gas:250000}, (err, transactionId) => {  
            printStatus(err, transactionId);       
         }); 
      } else {
         _rate = parseInt((1/document.getElementById('priceBuyValue').value)*(10**9));
         _amount = document.getElementById('amountBuyValue').value*(10**pairDecimals);
         exchangeContract.createOrder(startPairDefault, startBaseDefault, _rate, _amount, false, {value:actionFee,gas:250000}, (err,transactionId) => {
           printStatus(err, transactionId);
         }); 
      }           
    }

    function calcAjustBuy() {
            float9 = (1/(parseInt(1/(document.getElementById('priceBuyValue').value)*(10**9))/(10**9))).toFixed(9);
            totF9 = (float9*document.getElementById("amountBuyValue").value).toFixed(decimalPlaces) 
            document.getElementById('priceBuyValue').parentNode.setAttribute('title','Float9 Adjust: '+float9+' X '+totF9); 
            if ((parseFloat(document.getElementById("amountBuyValue").value) < 0.001) || 
                           (document.getElementById("totalBuyValue").value <= 0) || 
                           (document.getElementById("priceBuyValue").value < 0.00000001) ||
                           (document.getElementById("priceBuyValue").value > 999999999) || 
						(document.getElementById("priceBuyValue").value > (2**bE))) {
                document.getElementById('btnBuy').style.backgroundColor = "silver";
                document.getElementById('btnBuy').disabled = true;
            } else {
                document.getElementById('btnBuy').style.backgroundColor = "#11ABB0";
                document.getElementById('btnBuy').disabled = false;
            }
    }

    function calcRateBuy() {
	 if (parseFloat(document.getElementById("totalBuyValue").value) > parseFloat(document.getElementById("totalBuyValue").value).toFixed(decimalPlaces)) {
	     document.getElementById("totalBuyValue").style.color = 'red';
	 } else {
         document.getElementById("totalBuyValue").style.color = 'black';	  
	 }
      if (document.getElementById("totalBuyValue").value > 0) {
         if ((parseFloat(document.getElementById("totalBuyValue").value) < (2**bE)) && (parseFloat(document.getElementById("amountBuyValue").value) < (2**bE))) {
            document.getElementById('priceBuyValue').value = parseFloat(document.getElementById("totalBuyValue").value/document.getElementById("amountBuyValue").value).toFixed(9); 
            calcAjustBuy();
         } else {
            document.getElementById('priceBuyValue').value = 0;
         } 
      }    
    }

    function calcTotalBuy() {	  
	  if (parseFloat(document.getElementById("amountBuyValue").value) > parseFloat(document.getElementById("amountBuyValue").value).toFixed(decimalPlaces)) {
	     document.getElementById("amountBuyValue").style.color = 'red';
	  } else {
         document.getElementById("amountBuyValue").style.color = 'black';	  
	  }
	  if (parseFloat(document.getElementById("priceBuyValue").value) > parseFloat(document.getElementById("priceBuyValue").value).toFixed(9)) {
	     document.getElementById("priceBuyValue").style.color = 'red';
	  } else {
         document.getElementById("priceBuyValue").style.color = 'black';	  
	  }	  
      if (document.getElementById('priceBuyValue').value > 0) {
          tBig = parseFloat(document.getElementById("amountBuyValue").value*document.getElementById('priceBuyValue').value).toFixed(decimalPlaces);	
          if ((tBig < (2**bE)) && (parseFloat(document.getElementById("amountBuyValue").value) < (2**bE))) {
             document.getElementById("totalBuyValue").value = tBig;               
          } else  {     
             document.getElementById("totalBuyValue").value = 0;         
          }
      } 
      calcAjustBuy();   
    }  

    function calcAjustSell() {
            float9 = parseFloat(document.getElementById('priceSellValue').value).toFixed(9);
            totF9 = (document.getElementById("amountSellValue").value/float9).toFixed(decimalPlaces) 
            document.getElementById('priceSellValue').parentNode.setAttribute('title','Float9 Adjust: '+float9+' X '+totF9); 
            if ((parseFloat(document.getElementById("amountSellValue").value) < 0.001) || 
                           (document.getElementById("totalSellValue").value <= 0) || 
                           (document.getElementById("priceSellValue").value < 0.00000001) ||
                           (document.getElementById("priceSellValue").value > 999999999) ||
						(document.getElementById("priceSellValue").value > (2**bE))) {
                document.getElementById('btnSell').style.backgroundColor = "silver";
                document.getElementById('btnSell').disabled = true;
            } else {
                document.getElementById("btnSell").disabled = false;
                document.getElementById("btnSell").style.background = '#11ABB0';
            }
    }

    function calcRateSell() {
	  if (parseFloat(document.getElementById("totalSellValue").value) > parseFloat(document.getElementById("totalSellValue").value).toFixed(decimalPlaces)) {
	     document.getElementById("totalSellValue").style.color = 'red';
	  } else {
         document.getElementById("totalSellValue").style.color = 'black';	  
	  } 
      if (document.getElementById("totalSellValue").value > 0) { 
          if ((parseFloat(document.getElementById("totalSellValue").value) < (2**bE)) && (parseFloat(document.getElementById("amountSellValue").value) < (2**bE))) {
              document.getElementById('priceSellValue').value = parseFloat(document.getElementById("amountSellValue").value/document.getElementById("totalSellValue").value).toFixed(9);  
          } else {
              document.getElementById('priceSellValue').value = 0; 
          }
      }   
      calcAjustSell(); 
    }

    function calcTotalSell() {
	  if (parseFloat(document.getElementById("amountSellValue").value) > parseFloat(document.getElementById("amountSellValue").value).toFixed(decimalPlaces)) {
	     document.getElementById("amountSellValue").style.color = 'red';
	  } else {
         document.getElementById("amountSellValue").style.color = 'black';	  
	  } 
	  if (parseFloat(document.getElementById("priceSellValue").value) > parseFloat(document.getElementById("priceSellValue").value).toFixed(9)) {
	     document.getElementById("priceSellValue").style.color = 'red';
	  } else {
         document.getElementById("priceSellValue").style.color = 'black';	  
	  }	
      if (document.getElementById("priceSellValue").value > 0) {
          tBig = parseFloat(document.getElementById("amountSellValue").value/document.getElementById('priceSellValue').value).toFixed(decimalPlaces);
          if ((tBig < (2**bE)) && (parseFloat(document.getElementById("amountSellValue").value) < (2**bE))) {
            document.getElementById("totalSellValue").value = tBig;
          } else {
             document.getElementById("totalSellValue").value = 0;      
          }
      }
      calcAjustSell();     
    }

    function sendFillOrder() {      
       orderId = document.getElementById("orderFillId").value;
       rawRate = document.getElementById("orderRawRate").value;
       orderPairDecimals = document.getElementById("orderPairDecimals").value;
       rawAmountFill = document.getElementById("orderFillValue").value*(10**orderPairDecimals);
       exchangeContract.fillOrder(orderId, startBaseDefault, startPairDefault, rawRate, rawAmountFill, {value:actionFee,}, (err, transactionId) => {
           printStatus(err, transactionId);        
       }); 
      document.getElementById("orderFillForm").style.display = 'none';
    }

    function cancelFillOrder() {
      document.getElementById("orderFillForm").style.display = 'none';
    }

    function showFillOrder(orderId, rate, amount, baseDecimals, pairDecimals, type) {

    }

    function calcOrderGetting() {
       var amount = document.getElementById('orderFillValue').value; 
       var rate = document.getElementById('orderRawRate').value; 
       document.getElementById('orderGetting').value = ((amount*rate)/(10**9));
    }

    function sendTokenLike(_token) {
      exchangeContract.tokenLike(_token, (err, transactionId) => {
        printStatus(err, transactionId);
      });
    }

    function sendTokenDislike(_token) {
      exchangeContract.tokenDislike(_token, (err, transactionId) => {
        printStatus(err, transactionId); 
      });
    }


    function cancelOrder(orderId,mode) {
       if (mode == 1) {
         baseToken = startBaseDefault;
         pairToken = startPairDefault;
       } else {
         baseToken = startPairDefault;
         pairToken = startBaseDefault;
       } 
       exchangeContract.cancelOrder(orderId, baseToken, pairToken, {gas:120000,}, (err, transactionId) => {
         printStatus(err, transactionId);        
       }); 
    }

    function cancelLink(addressOwner,orderId,mode,cancelLbl) {
      asyncElmLoaded = asyncElmLoaded+1;
      if ((web3.eth.accounts[0]/addressOwner == 1) || (cancelLbl == 'Garbage')) {        
        if (cancelLbl == 'Cancel') {
           title = 'Your order, save action fee, cancel order before remove funds or allowance'; 
        } else {
           title = 'Click to collect garbage';
        }
        return '<button title="'+title+'" class="cancelBtn" onclick="cancelOrder('+orderId+','+mode+')">'+cancelLbl+'</button>';              
      } else {        
        return "";        
      }
    }

    function getAllowance(tokenAddressBase, tokenAddressPair, from, to, i, addressOwner, pre, mode, decimals, amount) {   
      contractPre = web3.eth.contract(standardERC20ABI).at(tokenAddressPair);
        contractPre.allowance(from, to, (err, allowancePre1) => {           
           if (allowancePre1 <= 0) {
		     cancelLbl = 'Garbage';
             document.getElementById(pre+'pairallowance'+i).parentNode.setAttribute('class','garbageRow');    
             document.getElementById(pre+'pairallowance'+i).parentNode.setAttribute('title','Collect this garbage and get action fee, reason low allowance'); 
           } else if ((amount/allowancePre1) > 1) {
		     cancelLbl = 'Garbage'; 
             document.getElementById(pre+'pairallowance'+i).parentNode.setAttribute('class','garbageRow');   
             document.getElementById(pre+'pairallowance'+i).parentNode.setAttribute('title','Collect this garbage and get action fee, reason low allowance'); 
		  } else {
		     cancelLbl = 'Cancel';             
		  }
           document.getElementById(pre+'pairallowance'+i).innerHTML = allowancePre1.div(10**decimals).toFixed(decimalPlaces)+' '+cancelLink(addressOwner,i,mode,cancelLbl);
          asyncElmLoaded = asyncElmLoaded+1;
      });    
    }

    function getAllowanceAccount(tokenAddress, from, container) {
      let contract = web3.eth.contract(standardERC20ABI).at(tokenAddress);
      contract.allowance(from, exchangeAddr, (error, allowance) => {
        contract.decimals((error, decimals) => {
          document.getElementById(container).value = (parseFloat(allowance)/(10**decimals)).toFixed(decimalPlaces); //allowance.div(10**decimals);
        });        
      });    
    }

    function getBalance(tokenAddress, walletAddress,i,pre,mode,amount) {     
      getERC20TokenBalance(tokenAddress, walletAddress, (balance,decimals) => {
           asyncElmLoaded = asyncElmLoaded+1; 
	       if (amount > balance*(10**decimals)) {
		     cancelLbl = 'Garbage'; 
			 document.getElementById(pre+'pairbalance'+i).innerHTML = parseFloat(balance).toFixed(decimalPlaces)+' '+cancelLink(walletAddress,i,mode,cancelLbl);
             document.getElementById(pre+'pairbalance'+i).parentNode.setAttribute('class','garbageRow');   
             document.getElementById(pre+'pairallowance'+i).parentNode.setAttribute('title','Collect this garbage and get action fee, reason low balance');                           
		  } else {
		     document.getElementById(pre+'pairbalance'+i).innerHTML = parseFloat(balance).toFixed(decimalPlaces);
		  }              
      })              
    }


    
    function getEthBalanceLabel(account,element) {
        web3.eth.getBalance(account, (err, balance) => {
          document.getElementById(element).innerText = web3.fromWei(balance).toFixed(decimalPlaces);
        });
    }


    function exchangeIt(tusd,contract,txAddresss) { 
        contractToken = web3.eth.contract(exchangeABI).at(contract);
        contractToken.exchangeIt(tusd, txAddresss, {
          gas: 120000,          
        }, (err, transactionId) => {
           printStatus(err, transactionId);
        });
    } 

  

    function sendRegisterToken() {
       token = document.getElementById('registerBaseCoin').value;
       exchangeContract.registerToken(token, {value:registerFee, gas:250000,}, (err, transactionId) => {
          printStatus(err, transactionId);        
       }); 
    }

    function sendCreateMarket() {
       baseToken = startBaseDefault;
       pairToken = startPairDefault;
       exchangeContract.createMarket(baseToken, pairToken, {value: marketFee, gas:200000,}, (err, transactionId) => {
         printStatus(err, transactionId);        
       }); 
    }

    function sendCapital(inputElm,decimals) {             
        const amountTkn = document.getElementById(inputElm).value*(10**decimals);  
        contractEx = web3.eth.contract(exchangeABI).at(exchangeAddr);
        contractEx.sendCapital(amountTkn, {
          gas: 120000,          
        }, (err, transactionId) => {
           printStatus(err, transactionId);
        });
      } 

    function approveExchange(addressCoin,inputElm,decimals) {             
        const amountTkn = document.getElementById(inputElm).value*(10**decimals);  
        contractToken = web3.eth.contract(standardERC20ABI).at(addressCoin);
        contractToken.approve(exchangeAddr, amountTkn, {
          gas: 60000,          
        }, (err, transactionId) => {
           printStatus(err, transactionId);
        });
      }   

    function sortOrders(type,desc) {
        var table, rows, switching, i, x, y, shouldSwitch;
        table = document.getElementById(type);
        switching = true;
        while (switching) {
          switching = false;
          rows = table.rows;
          for (i = 0; i < (rows.length - 1); i++) {
            shouldSwitch = false;
            x = rows[i+1].getElementsByTagName("TD")[1];
            y = rows[i].getElementsByTagName("TD")[1];
            xa = ("0000000000000000000" + x.innerHTML.toLowerCase()).slice(-19).replace(/[.]+/g, '')+'r9';
            ya = ("0000000000000000000" + y.innerHTML.toLowerCase()).slice(-19).replace(/[.]+/g, '')+'r1';
            if (desc) {
              if (xa > ya) {
                shouldSwitch = true;
                break;
              }
            } else {
              if (xa < ya) {
                shouldSwitch = true;
                break;
              }
            }      
          }
          if (shouldSwitch) {
             rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
             switching = true;
          }
        }
    }


  function resetLikes() {

  }

  function getLikesBase() {

  }
     
  function getLikesPair() {

  }

  function clearFields() {
      document.getElementById("priceSellValue").value = 0;
      document.getElementById("priceBuyValue").value = 0;
      document.getElementById("amountSellValue").value = 0;
      document.getElementById("amountBuyValue").value = 0;
      document.getElementById("totalSellValue").value = 0;
      document.getElementById("totalBuyValue").value = 0;
      document.getElementById("myBaseBalance").value = 0;
      document.getElementById("myPairBalance").value = 0;
      document.getElementById("typeSell").innerHTML = '';
      document.getElementById("typeBuy").innerHTML = '';
      document.getElementById("myPairBalance").value = 0;
  }

  function listOrders(clear) {

  }

  function listOrdersDones() {
 
  }
  


    function getFees() {

    }
</script>
</body>


